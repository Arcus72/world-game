<UserControl x:Class="World_Game.Views.GameView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:views="clr-namespace:World_Game.Views"
             MinWidth="600" MinHeight="400">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="1*"/>
            <!-- Górna część: wpisywanie kraju -->
            <RowDefinition Height="7*"/>
            <!-- Dolna część: lista zgadywań -->
        </Grid.RowDefinitions>

        <!-- Pole do wpisywania nazwy kraju -->
        <Grid Grid.Row="0" >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="129*"/>
                <ColumnDefinition Width="278*"/>
                <ColumnDefinition Width="111*"/>
                <ColumnDefinition Width="82*"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="1" Margin="10,10,10,10" Background="LightGray">
                <ComboBox
                x:Name="CountryInput"
                IsEditable="True"
                ItemsSource="{Binding Game.CountryNames}"
                Text="{Binding CountryInputText, UpdateSourceTrigger=PropertyChanged}"
                StaysOpenOnEdit="True"
                IsTextSearchEnabled="True"
                VerticalContentAlignment="Center"
                HorizontalContentAlignment="Center" Cursor="Hand"/>

            </Border>

            <Button Grid.Column="2" Content="Check" Margin="10,10,0,10" FontSize="16"
            Command="{Binding CheckCountryCommand}"
            CommandParameter="{Binding Text, ElementName=CountryInput}" />
            <TextBlock Grid.Column="3" TextWrapping="Wrap" VerticalAlignment="Center" Text="{Binding Timer.ElapsedTime}" Margin="10,0,10,0" Height="16" TextAlignment="Center" />
            <Button Content="{Binding MapStatusBtnText}" Margin="15,10,10,10" FontSize="16"
                    Background="IndianRed"
                Command="{Binding ChangeMapVisibilityStatusCommand}"
                CommandParameter="{Binding Text, ElementName=CountryInput}" />
        </Grid>

        <!-- Lista zgadywań -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Margin="15" Visibility="{Binding MapVisibilityStatus}">
            <StackPanel>

                <!-- Nagłówek kolumn -->
                <Border BorderBrush="Black" BorderThickness="0,0,0,1" Padding="5" Background="DimGray">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="2*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0" Text="Country" FontWeight="Bold" Foreground="White" TextAlignment="Center" FontSize="10"/>
                        <TextBlock Grid.Column="1" Text="Population" FontWeight="Bold" Foreground="White" TextAlignment="Center" FontSize="10"/>
                        <TextBlock Grid.Column="2" Text="Area" FontWeight="Bold" Foreground="White" TextAlignment="Center" FontSize="10"/>
                        <TextBlock Grid.Column="3" Text="Continent" FontWeight="Bold" Foreground="White" TextAlignment="Center" FontSize="10"/>
                        <TextBlock Grid.Column="4" Text="Gov." FontWeight="Bold" Foreground="White" TextAlignment="Center" FontSize="10"/>
                        <TextBlock Grid.Column="5" Text="Region" FontWeight="Bold" Foreground="White" TextAlignment="Center" FontSize="10"/>
                        <TextBlock Grid.Column="6" Text="Year" FontWeight="Bold" Foreground="White" TextAlignment="Center" FontSize="10"/>
                        <TextBlock Grid.Column="7" Text="Language" FontWeight="Bold" Foreground="White" TextAlignment="Center" FontSize="10"/>
                    </Grid>
                </Border>


                <!-- Lista zgadywań -->
                <ItemsControl ItemsSource="{Binding Game.GuessHistory}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <views:CountryGuessControl/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
